<!doctype html>
<html>
<head>
	<meta charset="utf-8">

	<title>Kaitlyn Smith</title>

	<link rel="stylesheet" href="css/gumby.css">
	<link rel="stylesheet" href="sass/_custom.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>

	<script type="text/javascript" src="js/d3/d3.js"></script>

</head>

<body>
	<!-- Header -->
	<div class="container" id="bannerhome2">
		<div>
			<div class="valign text-center row">
				<div>
					<h1>Kaitlyn Smith</h1>
					<h2>web designer <i class="icon-dot"></i> civil engineer</h2>
					<br>
					<p><i class="icon-mail" style="color:#4eae83"></i>smithmail@somemail.com</p>
				</div>
			</div>
		</div>
	</div>


	<!-- Web -->
	<div class="container padbottom text-center">

		<div class="absolute tooltip" id="toolit">
			<h3 id="language"></h3>
			<p><strong>Years: </strong><span id="expyr"></span></p>
			<p><strong>Details: </strong><span id="details"></span></p>
		</div>

		<div class="row bottomheavy text-center">
			<h1>Web Design</h1>
			<hr>
		</div>

		<div class="row">
			<h2>Advanced</h2>
		</div>

		<div class="row">
			<div class="twelve columns" id="advanced">
			</div>
		</div>

		<div class="row">
			<h2>Proficient</h2>
		</div>

		<div class="row">
			<div class="twelve columns" id="proficient">
			</div>
		</div>

		<div class="row">
			<h2>Emerging</h2>
		</div>

		<div class="row">
			<div class="twelve columns" id="emerging">
			</div>
		</div>

		<script>
		var dataAdv = [
				{
					"name":"HTML",
					"level":95,
					"div":"adv",
					"exp":5,
					"description":"Detail of exp"
				},
				{
					"name":"CSS",
					"level":90,
					"div":"adv",
					"exp":5,
					"description":"Detail of exp 2"
				}
			];

		var dataPro = [
				{
					"name":"PHP",
					"level":70,
					"div":"pro",
					"exp":2,
					"description":"Detail of exp"
				},
				{
					"name":"MySQL",
					"level":65,
					"div":"pro",
					"exp":2,
					"description":"Detail of exp 2"
				},
				{
					"name":"SASS",
					"level":60,
					"div":"pro",
					"exp":1,
					"description":"Detail of exp 2"
				},
				{
					"name":"JavaScript",
					"level":50,
					"div":"pro",
					"exp":1,
					"description":"Detail of exp 2"
				}
			];

		var dataEmg = [
				{
					"name":"Java",
					"level":30,
					"div":"emg",
					"exp":1,
					"description":"Detail of exp 2"
				},
				{
					"name":"C",
					"level":40,
					"div":"emg",
					"exp":1,
					"description":"Detail of exp 2"
				},
				{
					"name":"Python",
					"level":20,
					"div":"emg",
					"exp":1,
					"description":"Detail of exp 2"
				}
			];

		function callArcs(dataset, puthere) {

			//variables
			var arcD = 210,
				proArcD = 190,
				emgArcD = 160,
				adv = 90,
				pro = 50,
				advInner = 70,
				advOuter = 105,
				proInner = 70,
				proOuter = 95,
				emgInner = 60,
				emgOuter = 80;

			//arc specs
			var drawArc = d3.svg.arc()
				.innerRadius(function(d) {
					if (d['div'] == 'adv') {
						return advInner;
					}
					else if (d['div'] == 'pro') {
						return proInner;
					}
					else {
						return emgInner;
					}
				})
				.outerRadius(function(d) {
					if (d['div'] == 'adv') {
						return advOuter;
					}
					else if (d['div'] == 'pro') {
						return proOuter;
					}
					else {
						return emgOuter;
					}
				})
				.startAngle(0);

			//tooltip
			var tooltip = d3.select(puthere)
				.append("div")
				.style("position", "absolute")
				.style("z-index", "10")
				.style("visibility", "hidden");

			//svg container
			var display = d3.select(puthere).selectAll('arcs')
				.data(dataset)
				.enter()
				.append('svg')
				.attr('class', 'arc')
				.attr('width', function(d) {
					if (d['div'] == 'adv') {
						return arcD;
					}
					else if (d['div'] == 'pro') {
						return proArcD;
					}
					else {
						return emgArcD;
					}
				})
				.attr('height', function(d) {
					if (d['div'] == 'adv') {
						return arcD;
					}
					else if (d['div'] == 'pro') {
						return proArcD;
					}
					else {
						return emgArcD;
					}
				})
				.append('g')
				.attr('transform', function(d) {
					if (d['div'] == 'adv') {
						return 'translate(' + arcD/2 + ',' + arcD/2 + ')';
					}
					else if (d['div'] == 'pro') {
						return 'translate(' + proArcD/2 + ',' + proArcD/2 + ')';
					}
					else {
						return 'translate(' + emgArcD/2 + ',' + emgArcD/2 + ')';
					}
				});

			//adding bg arc
			var arcBG = display.append('path')
				.each(function(d) {
					d.endAngle = 2*Math.PI;
				})
				.attr('fill', function() {
					if(dataset == dataAdv || dataset == dataPro || dataset == dataEmg) {
						return '#efecdc';
					}
					else {
						return '#dcd9c7';
					}
				})
				.attr('d', drawArc)
			
			//adding the arc to the svg
			var arc = display.append('path')
				.attr('fill', function(d) {
					if (d['div'] == 'adv') {
						return '#4eae83';
					}
					else if (d['div'] == 'pro') {
						return '#9fd4cb';
					}
					else {
						return '#fecf00';
					}
				})
				.each(function(d) {
					d.endAngle = (360 * (d['level']/100) * Math.PI/180);
				})
				.attr('d', drawArc)
				.transition()
				.duration(1000)
				.ease('bounce')
				.call(arcTween,this);

			//adding text for label
			display.append('text')
				.text(function(d) {
					return d['name'];
				})
				.attr('class', 'arctext')
				.attr('transform', 'translate(0,5)')
				.attr('text-anchor', 'middle');

			function arcTween(transition, newAngle) {
				transition.attrTween('d', function(d) {
					var interpolate = d3.interpolate(0,360 * (d['level']/100) * Math.PI/180);
					return function(t) {
						d.endAngle = interpolate(t);
						return drawArc(d);
					};
				});
			}

			//them darned tooltips
			//with a gracious amount of disection of http://codepen.io/recursiev/pen/zpJxs/
			var tooltip = d3.selectAll(".tooltip");
			var HTMLabsoluteTip = d3.select("div.tooltip.absolute");

			d3.select(puthere).selectAll('svg')
				.attr('title','Automatic Title Tooltip')
				.on('mouseover', function(d) {
					tooltip.style('opacity','1');

					d3.select('#toolit')
						.style('width', this.getAttribute('width') + 'px')
						.style('height', this.getAttribute('height') + 'px')
						.style('background', function() {
							if(dataset == dataAdv2 || dataset == dataPro2 || dataset == dataEmg2) {
								return '#efecdc';
							}
							else {
								return 'white';
							}
						})
					d3.select('#language')
						.text(d.name);
					d3.select('#expyr')
						.text(d.exp);
					d3.select('#details')
						.text(d.description);

					var matrix = this.getScreenCTM();

               		HTMLabsoluteTip
						.style('left', (window.pageXOffset + matrix.e) + 'px')
						.style('top', (window.pageYOffset + matrix.f) + 'px');
				})
				.on('mouseout', function() {
					return tooltip.style('opacity', '0');
				});
		}

		callArcs(dataAdv, '#advanced');
		callArcs(dataPro, '#proficient');
		callArcs(dataEmg, '#emerging');

		</script>

		<div class="row">
			<br>
			<hr>
			<h1>Tools</h1>
		</div>

		<div class="row">
			<div class="six columns text-center">
				<p><i class="icon-stop" style="color:#4eae83"></i> Advanced <i class="icon-stop" style="color:#9fd4cb"></i> Proficient <i class="icon-stop"></i> Emerging</p>
			</div>
			<div class="six columns text-center">
				<p><i class="icon-info" style="color:#4eae83"></i>Based on years experience</p>
			</div>
		</div>

		<div class="row">
			<div class="twelve columns" id="webTools">
			</div>
		</div>

		<script type="text/javascript">
			var dataTools = [
				{
					"name":"Ps",
					"years":"6",
					"div":"adv"
				},
				{
					"name":"Ai",
					"years":"3",
					"div":"pro"
				},
				{
					"name":"Maya",
					"years":"2",
					"div":"pro"
				},
				{
					"name":"GitHub",
					"years":"1",
					"div":"pro"
				},
				{
					"name":"Id",
					"years":"1",
					"div":"emg"
				}
			];

		function callTools(dataTool, divid) {
			var w = parseInt(d3.select(divid).style('width'), 10);
			var h = 300;

			var padding = 20;

			var margin = {top:20, right:20, bottom:0, left:20};

			w = w - margin.left - margin.right;

			var x = d3.scale.ordinal()
				.domain(d3.range(dataTool.length))
				.rangeRoundBands([padding,w], 0.1);

			var y = d3.scale.linear()
				.domain([0, d3.max(dataTool, function(d) {
					return d['years'];
				})])
				.range([h-padding,padding]);

			var toolDisplay = d3.select(divid)
				.append('svg')
				.attr('width',w)
				.attr('height',h);

			var yAxis = d3.svg.axis()
				.scale(y)
				.orient('right')
				.ticks(6)
				.tickSize(w);

			toolDisplay.selectAll('rect')
				.data(dataTool)
				.enter()
				.append('rect')
				.attr('x', function(d, i) {
					return x(i);
				})
				.attr('y', function(d) {
					return y(d['years']);
				})
				.attr('width', x.rangeBand())
				.attr('height', function(d) {
					return y(0)-y(d.years);
				})
				.attr('fill', function(d) {
					if (d['div'] == 'adv') {
						return '#4eae83';
					}
					else if (d['div'] == 'pro') {
						return '#9fd4cb';
					}
					else {
						return '#fecf00';
					}
				});

			toolDisplay.selectAll('text')
				.data(dataTool)
				.enter()
				.append('text')
				.text(function(d) {
					return d['name'];
				})
				.attr('text-anchor', 'middle')
				.attr('x', function(d,i) {
					return x(i)+x.rangeBand()/2;
				})
				.attr('y', function(d) {
					return y(d['years'])+30;
				})
				.attr('class', 'bartext');

			d3.select(window).on('resize', resize);

			function resize() {
				//update the width
				w = parseInt(d3.select('#webTools').style('width'), 10);
				w = w - margin.left - margin.right;

				//update x range
				//x.rangeRoundBands([padding,w], 0.1);
				x = d3.scale.ordinal()
					.domain(d3.range(dataTool.length))
					.rangeRoundBands([padding,w], 0.1);

				toolDisplay.attr('width',w);

				toolDisplay.selectAll('rect')
					.attr('x', function(d, i) {
						return x(i);
					})
					.attr('width', x.rangeBand());

				toolDisplay.selectAll('text')
					.attr('x', function(d,i) {
						return x(i)+x.rangeBand()/2;
					});

				yAxis.tickSize(w);
			}

			toolDisplay.append('g')
				.attr('class','expaxis')
				.call(yAxis)
				.selectAll('text')
				.attr('x',4)
				.attr('dy',-4);
			}

			callTools(dataTools, '#webTools');

		</script>
	</div>


	<!-- Civil -->
	<div class="container tanbg padbottom text-center">
		<div class="row">
			<div class="twelve columns text-center">
				<h1>Civil Engineering</h1>
				<hr>
			</div>
		</div>

		<div class="row">
			<h2>Advanced</h2>
		</div>

		<div class="row">
			<div class="twelve columns" id="advanced2">
			</div>
		</div>

		<div class="row">
			<h2>Proficient</h2>
		</div>

		<div class="row">
			<div class="twelve columns" id="proficient2">
			</div>
		</div>

		<div class="row">
			<h2>Emerging</h2>
		</div>

		<div class="row">
			<div class="twelve columns" id="emerging2">
			</div>
		</div>

		<div class="row">
			<br>
			<hr>
			<h1>Tools</h1>
		</div>

		<div class="row">
			<div class="six columns text-center">
				<p><i class="icon-stop" style="color:#4eae83"></i> Advanced <i class="icon-stop" style="color:#9fd4cb"></i> Proficient <i class="icon-stop"></i> Emerging</p>
			</div>
			<div class="six columns text-center">
				<p><i class="icon-info" style="color:#4eae83"></i>Based on years experience</p>
			</div>
		</div>

		<div class="row">
			<div class="twelve columns" id="civilTools">
			</div>
		</div>


		<script type="text/javascript">
			var dataAdv2 = [
				{
					"name":"Calculus",
					"level":90,
					"div":"adv",
					"exp":5,
					"description":"Detail of exp"
				},
				{
					"name":"Physics",
					"level":90,
					"div":"adv",
					"exp":3,
					"description":"Detail of exp 2"
				},
				{
					"name":"Chemistry",
					"level":90,
					"div":"adv",
					"exp":3,
					"description":"Detail of exp 2"
				}
			];

			var dataPro2 = [
				{
					"name":"Biology",
					"level":75,
					"div":"pro",
					"exp":3,
					"description":"Detail of exp 2"
				},
				{
					"name":"Statistics",
					"level":55,
					"div":"pro",
					"exp":2,
					"description":"Detail of exp 2"
				}
			];

			var dataEmg2 = [
				{
					"name":"Mechanics",
					"level":35,
					"div":"emg",
					"exp":1,
					"description":"Detail of exp 2"
				},
				{
					"name":"Hydraulics",
					"level":20,
					"div":"emg",
					"exp":1,
					"description":"Detail of exp 2"
				},
				{
					"name":"Structural",
					"level":20,
					"div":"emg",
					"exp":1,
					"description":"Detail of exp 2"
				}
			];

			var dataTools2 = [
				{
					"name":"MS Office",
					"years":"6",
					"div":"adv"
				},
				{
					"name":"SolidWorks",
					"years":"1",
					"div":"emg"
				},
				{
					"name":"AutoCAD",
					"years":"1",
					"div":"emg"
				},
				{
					"name":"Bid Room",
					"years":"1",
					"div":"emg"
				}
			];

			callArcs(dataAdv2, '#advanced2');
			callArcs(dataPro2, '#proficient2');
			callArcs(dataEmg2, '#emerging2');
			callTools(dataTools2, '#civilTools');

		</script>
	</div>


	<!-- Experience -->
	<div class="container padbottom">
		<div class="row bottomheavy text-center">
			<h1 style="padding-bottom:5px">Experience</h1>
			<h5 style="color:#282828"></h5>
			<hr>
		</div>

		<div class="row">
			<div class="twelve columns" id="expHolder">
				<script type="text/javascript">
				/*  few sections focusing on the areas you want to focus on (code and design)
				*/
						var w = 800;
						var h = 200;

						var x = d3.scale.linear()
							.domain([0,2])
							.range([0,w]);

						//line data
						var line01 = [
							{'x':5, 'y':5},
							{'x':200, 'y':5}
						];
						//lets try adding a second line
						var line02 = [
							{'x':25, 'y':45},
							{'x':500, 'y':45}
						];

						//accessor function to draw the line
						var drawLine = d3.svg.line()
							.x(function(d) {
								return d.x;
							})
							.y(function(d) {
								return d.y;
							})
							.interpolate('linear');
						//svg container
						var lineDisplay = d3.select('#expHolder').append('svg')
							.attr('width', w)
							.attr('height', h);
						//draw the line path
						var lineGraph = lineDisplay.append('path')
							.attr('d', drawLine(line01))
							.attr('stroke', '#efecdc')
							.attr('stroke-width',10)
							.attr('fill','none');
						var lineGraph = lineDisplay.append('path')
							.attr('d', drawLine(line02))
							.attr('stroke', '#4eae83')
							.attr('stroke-width',10)
							.attr('fill','none');

						var xaxis = d3.svg.axis()
							.scale(x)
							.orient('bottom');
						lineDisplay.append('g')
							.attr('class','axis')
							.attr('transform','translate(0,' + (h-20) + ')')
							.call(xaxis);
					</script>
			</div>

		</div>
	</div>


	<!-- footer2 -->
	<div class="footer2 tanbg">
		<div class="row">
			<div class="four columns">
				<h6>Made with <i class="icon-heart"></i> in Florida</h6>
			</div>
			<div class="push_three five columns">
				<h6 class="righty">2015. All Rights Reserved.</h6>
			</div>
		</div>
	</div>
	

  </body>
</html>
